(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{225:function(a,t,s){"use strict";s.r(t);var r=s(0),n=Object(r.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"angular打包流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#angular打包流程","aria-hidden":"true"}},[a._v("#")]),a._v(" Angular打包流程")]),a._v(" "),s("ul",[s("li",[a._v("新建项目 ng new 项目名")]),a._v(" "),s("li",[a._v("cd 项目的根目录下")]),a._v(" "),s("li",[a._v("ng generate library 包名称 --prefix=lib")]),a._v(" "),s("li",[a._v("在项目的根目录下找到 angular.json 文件")]),a._v(" "),s("li",[a._v("在 angular.json 文件中 找到 projects 节点 然后再 projects 节点中 找到你创建的 包 然后在包的 architect/build 添加如下配置信息")])]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"configurations"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"production"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n       "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"project"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"projects/包名称/ng-package.json"')]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n")])])]),s("ul",[s("li",[a._v("在项目的根目录下面 找到 package.json 文件")]),a._v(" "),s("li",[a._v("在 package.json文件中的 Scripts 节点下面 配置如下信息")])]),a._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"build_lib"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ng build --prod 包名称"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"npm_pack"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"cd dist/包名称 && npm pack"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token property"}},[a._v('"package"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"npm run build_lib && npm run npm_pack"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("ul",[s("li",[a._v("在dos命令中输入 npm run package 命令执行打包操作")]),a._v(" "),s("li",[a._v("新建组件\nng generate component components/archives --project=包名称(Core)")]),a._v(" "),s("li",[a._v("新建服务\nng generate service services/archives --project=包名称(Core)")]),a._v(" "),s("li",[a._v("打包成tgz包 在别的项目中引用\nnpm install ./library/包名称(Core)-0.0.1.tgz")])]),a._v(" "),s("h2",{attrs:{id:"开发使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 开发使用")]),a._v(" "),s("p",[a._v("src 使用project中定义的组件")]),a._v(" "),s("ul",[s("li",[a._v("export 导出")])]),a._v(" "),s("h2",{attrs:{id:"访问本地路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#访问本地路径","aria-hidden":"true"}},[a._v("#")]),a._v(" 访问本地路径")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ng build --prod --output-path docs --base-href\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ng build --prod --aot --build-optimizer --verder-chunk\n")])])])])},[],!1,null,null,null);t.default=n.exports}}]);